@charset "UTF-8";

/**
 * ====================================================================
 * History.css - Estilos para el Historial de Mantenimientos
 * ====================================================================
 */

/* ================================================================
   VARIABLES DE COLOR (Idénticas a Bills.css)
   ================================================================ */

:root {
    /* Forzar color-scheme para evitar que el navegador modifique los colores */
    color-scheme: only light dark;

    /* Colores de fondo (Dark Mode por defecto) */
    --color-bg-primary: #12121e;
    --color-bg-secondary: #1f1f33;
    --color-bg-tertiary: #2a2a3e;
    --color-bg-glass: rgba(0, 0, 0, 0.5);

    /* Colores de texto */
    --color-text-primary: #f0f0f5;
    --color-text-secondary: #9999aa;
    --color-text-light: #ffffff;

    /* Bordes y sombras */
    --color-border: #47475f;
    --color-border-light: #dee2e6;
    --color-shadow: rgba(0, 0, 0, 0.6);
    --color-shadow-light: rgba(255, 255, 255, 0.6);

    /* Acentos */
    --color-accent-magenta: #E91E63;
    --color-accent-red: #dc3545;
    --color-accent-green: #4CAF50;
    --color-accent-blue: #2196F3;
    --color-accent-orange: #FF9800;

    --gradient-primary: linear-gradient(135deg, #FF5722, #E91E63);
}

/* Light Mode Variables */
html.light-mode,
html.light-mode body {
    color-scheme: only light dark;

    /* Colores de fondo (Light Mode) */
    --color-bg-primary: #ffffff;
    --color-bg-secondary: #f8f9fa;
    --color-bg-tertiary: #e9ecef;
    --color-bg-glass: rgba(255, 255, 255, 0.5);

    /* Colores de texto */
    --color-text-primary: #212529;
    --color-text-secondary: #6c757d;
    --color-text-light: #212529;

    /* Bordes y sombras */
    --color-border: #dee2e6;
    --color-border-light: #dee2e6;
    --color-shadow: rgba(0, 0, 0, 0.1);
    --color-shadow-light: rgba(255, 255, 255, 0.6);

    /* Acentos */
    --color-accent-magenta: #E91E63;
    --color-accent-red: #dc3545;
    --color-accent-green: #198754;
    --color-accent-blue: #0d6efd;
    --color-accent-orange: #fd7e14;
    --gradient-primary: linear-gradient(135deg, #FF5722, #E91E63);
}

/* ================================================================
   LAYOUT GENERAL
   ================================================================ */

body {
    background: radial-gradient(circle at center, #050505 0%, #12121e 100%);
    background-attachment: fixed;
    color: var(--color-text-primary);
    transition: background-color 0.3s, color 0.3s;
    height: 100vh;
    overflow: hidden;
    margin: 0;
    padding: 0;
    width: 100%;
}

html.light-mode body {
    background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
    background-attachment: fixed;
}

.app-layout {
    display: flex;
    flex-direction: column;
    height: 100vh;
    overflow: hidden;
}

.overflow-y-auto {
    -ms-overflow-style: none;
    scrollbar-width: none;
}

.overflow-y-auto::-webkit-scrollbar {
    display: none;
}

/* Ocultar scrollbar en todos los navegadores */
* {
    scrollbar-width: none;
    /* Firefox */
    -ms-overflow-style: none;
    /* IE y Edge */
}

*::-webkit-scrollbar {
    display: none;
    /* Chrome, Safari, Opera */
}

/* ================================================================
   NAVBAR
   ================================================================ */

#top-navbar {
    background-color: var(--color-bg-glass);
    border-bottom: 1px solid var(--color-border-light);
    box-shadow: 0 0 25px var(--color-shadow-light);
    border-radius: 0;
    flex-shrink: 0;
}

.navbar-title {
    color: var(--color-text-light);
}

/* ================================================================
   CONTENIDO PRINCIPAL
   ================================================================ */

#app-content {
    padding: 1rem;
    flex-grow: 1;
    padding-bottom: 5rem;
    height: auto;
    overflow: hidden;
}

/* ================================================================
   CARDS Y CONTENEDORES
   ================================================================ */

.card-container {
    background-color: var(--color-bg-secondary);
    border-radius: 1rem;
    box-shadow: 0 4px 6px var(--color-shadow);
    /* Gradient Border Implementation */
    border: 1px solid transparent;
    background-image: linear-gradient(var(--color-bg-secondary), var(--color-bg-secondary)),
        linear-gradient(to bottom, rgba(255, 255, 255, 0.8) 0%, #47475f 25%, #47475f 75%, #12121e 100%);
    background-origin: border-box;
    background-clip: padding-box, border-box;

    height: calc(100vh - 7rem);
    height: calc(100dvh - 7rem);
    overflow: hidden;
    display: flex;
    flex-direction: column;
    margin-bottom: 2rem;
}

.card-inner-content {
    padding: 1.5rem;
    height: 100%;
    overflow-y: auto;
    flex: 1;
    display: flex;
    flex-direction: column;
}

.card-title {
    color: var(--color-text-light);
}

.card-icon {
    color: var(--color-accent-red);
}

/* ================================================================
   TARJETAS DE MANTENIMIENTO (REPAIR CARDS)
   ================================================================ */

.repair-card {
    background-color: var(--color-bg-secondary);
    /* Gradient Border Implementation */
    border: 1px solid transparent;
    background-image: linear-gradient(var(--color-bg-secondary), var(--color-bg-secondary)),
        linear-gradient(to bottom,
            rgba(255, 255, 255, var(--white-opacity, 0.8)) 0%,
            #47475f var(--grey-start, 25%),
            #47475f var(--grey-end, 45%),
            #12121e 100%);
    background-origin: border-box;
    background-clip: padding-box, border-box;
    padding: 1rem;
    border-radius: 0.75rem;
    box-shadow: 0 3px 8px var(--color-shadow);
    display: flex;
    flex-direction: column;
    cursor: pointer;
    transition: transform 0.2s, box-shadow 0.2s, border-color 0.2s, border-top-color 0.15s ease-out;
    margin-bottom: 0.75rem;
    position: relative;
    border-left: 1px solid transparent;
    border-right: 1px solid transparent;
}

.repair-card:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 15px var(--color-shadow);
    border-color: var(--color-accent-magenta);
    border-top-color: var(--color-accent-magenta) !important;
}

/* Priority Colors (Borde izquierdo ELIMINADO) */
/* Se eliminaron los estilos .priority-* para quitar el borde lateral */

/* ================================================================
   INPUTS Y BOTONES
   ================================================================ */

.minimal-input {
    background-color: var(--color-bg-primary);
    border: 1px solid var(--color-border);
    color: var(--color-text-light);
    padding: 0.6rem 0.8rem;
    border-radius: 0.5rem;
    transition: border-color 0.2s, background-color 0.2s;
}

.minimal-input:focus {
    border-color: var(--color-accent-magenta);
    outline: none;
    box-shadow: 0 0 0 1px var(--color-accent-magenta);
}

.minimal-input::placeholder {
    color: var(--color-text-secondary);
}

.primary-btn {
    background-image: var(--gradient-primary);
    color: #ffffff;
    font-weight: 600;
    padding: 0.6rem 1rem;
    border-radius: 0.5rem;
    border: none;
    transition: opacity 0.2s;
}

.primary-btn:hover {
    opacity: 0.9;
}

.secondary-icon-btn {
    background-color: var(--color-bg-tertiary);
    color: var(--color-text-secondary);
    border: 1px solid var(--color-border);
    transition: background-color 0.2s, color 0.2s;
}

.secondary-icon-btn:hover {
    background-color: var(--color-bg-primary);
    color: var(--color-text-light);
    border-color: var(--color-accent-magenta);
}

/* Estado activo del botón de búsqueda */
.card-inner-content:has(#search-container:not(.hidden)) button[title="Buscar"] {
    color: var(--color-accent-magenta);
    border-color: var(--color-accent-magenta);
    background-color: var(--color-bg-primary);
}

/* ================================================================
   UTILIDADES
   ================================================================ */

.loading-spinner {
    border: 4px solid var(--color-bg-tertiary);
    border-top: 4px solid var(--color-accent-magenta);
    border-radius: 50%;
    width: 40px;
    height: 40px;
    animation: spin 1s linear infinite;
    margin: 2rem auto;
}

@keyframes spin {
    0% {
        transform: rotate(0deg);
    }

    100% {
        transform: rotate(360deg);
    }
}

.user-id-display {
    font-size: 0.75rem;
    font-weight: 500;
    padding: 0.25rem 0.5rem;
    border-radius: 9999px;
    background-color: var(--color-bg-tertiary);
    color: var(--color-text-secondary);
    max-width: 100px;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

.info-box {
    background-color: var(--color-bg-tertiary);
    border-radius: 0.5rem;
    padding: 0.75rem;
}

/* ================================================================
   MODAL
   ================================================================ */

.modal-content {
    background-color: var(--color-bg-secondary);
    color: var(--color-text-primary);
    border: 1px solid var(--color-border);
    border-top: 1px solid rgba(255, 255, 255, 0.2);
}

.modal-header,
.modal-footer {
    border-color: var(--color-border);
}

/* Responsive */
@media (max-width: 640px) {
    body {
        padding: 0;
    }
}

.modal-overlay-standard {
    background-color: rgba(0, 0, 0, 0.5);
    backdrop-filter: blur(4px);
}

/* ================================================================
   ELEMENTOS DINÁMICOS (JS)
   ================================================================ */

/* --- Card Styles --- */
.maintenance-card-title {
    color: var(--color-text-primary);
}

.maintenance-card-tag {
    background-color: var(--color-bg-tertiary);
    color: var(--color-text-secondary);
}

.maintenance-card-info {
    color: var(--color-text-secondary);
}

.maintenance-card-footer {
    border-color: var(--color-border);
}

.priority-badge {
    color: var(--color-text-primary);
}

/* --- Record Card Styles --- */
.record-card-date {
    color: var(--color-text-secondary);
}

.record-card-user {
    color: var(--color-text-primary);
}

.record-card-status {
    background-color: rgba(76, 175, 80, 0.1);
    color: var(--color-accent-green);
}

html.light-mode .record-card-status {
    background-color: rgba(76, 175, 80, 0.2);
}

.record-card-info {
    color: var(--color-text-secondary);
}

.record-card-description-container {
    border-color: var(--color-border);
}

.record-card-description {
    color: var(--color-text-secondary);
}

/* --- Modal Styles --- */
.modal-highlight-box {
    background-color: var(--color-bg-tertiary);
    border-radius: 0.5rem;
    padding: 0.75rem;
}

.modal-date-text {
    color: var(--color-accent-blue);
}

/* Note: we don't have --color-accent-blue defined in :root, usually it's best to stick to defined colors or add it. 
   Assuming standard blue for now or defined elsewhere, but better to define it or use one of the existing accents.
   I will add --color-accent-blue to :root for consistency if needed, but for now I'll use a hardcoded fallback or existing var.
   Let's check :root again. There is no accent-blue. I will add it to the variables section in a separate edit or just use a hex code that fits.
*/

.modal-user-text {
    color: var(--color-text-secondary);
}

.modal-user-name {
    color: var(--color-text-primary);
}

.modal-section-title {
    color: var(--color-text-light);
}

.modal-label {
    color: var(--color-text-secondary);
}

.modal-value {
    color: var(--color-text-primary);
}

.modal-description-label {
    color: var(--color-text-secondary);
}

.modal-description-text {
    color: var(--color-text-primary);
}

.modal-contact-header {
    color: var(--color-accent-red);
}


/* --- Estado Vacío --- */
.empty-state-container {
    background-color: var(--color-bg-tertiary);
    color: var(--color-text-secondary);
}

/* --- Error Styles --- */
.error-message {
    padding: 0.75rem;
    margin-top: 1rem;
    color: #f87171;
    /* text-red-400 */
    background-color: rgba(127, 29, 29, 0.4);
    /* bg-red-900/40 */
    border: 1px solid #7f1d1d;
    /* border-red-900 */
    border-radius: 0.5rem;
}

html.light-mode .error-message {
    color: #dc3545;
    background-color: #f8d7da;
    border-color: #f5c6cb;
}